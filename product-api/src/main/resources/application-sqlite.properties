# src/main/resources/application-sqlite.properties
# SQLite設定ファイル

# データベース接続設定
spring.datasource.url=jdbc:sqlite:${DB_PATH:src/main/resources/data/products.db}
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.datasource.username=
spring.datasource.password=

# JPA/Hibernate設定
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# SQLite最適化設定
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# データ初期化設定
spring.jpa.defer-datasource-initialization=false
spring.sql.init.mode=never

# CORS設定
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:*}

# サーバー設定
server.port=8080

# アクチュエーター設定
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# ログ設定
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.com.example.productapi=INFO
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n